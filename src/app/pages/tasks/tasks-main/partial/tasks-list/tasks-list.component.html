<section id="tasksContainer" class="tasks-container">
    <section id="inputSearchSection">
        <input id="txtSearch" name="txtSearch" type="search" [(ngModel)]="searchText" />
    </section>
    <section id="toDoTaskList" class="todo-task-list">
        <header class="my-2">
            <h1>ToDo List</h1>
        </header>
        <input name="taskName" id="taskName" [(ngModel)]="taskName" (keyup.enter)="addTask({TaskName: taskName, Done: false, Today: false, Favorite: false})" />


        <input type="button" value="add" (click)="addTask({TaskName: taskName, Done: false, Today: false, Favorite: false})" />
        <div>{{message}}</div>


        <div *ngIf="taskList.length > 0;  else emptyList" cdkDropList (cdkDropListDropped)="drop(taskList, $event)" class="tasks-list">
            <div *ngFor="let task of taskList | multipleSearchFilter:['TaskName']:searchText ; let index = index; trackBy: trackTask" class="task-box cursor-move" [class.done-task]="task.Done" cdkDrag>

                <section id="buttons" class="d-flex">

                    <mat-checkbox [(ngModel)]="task.Done" (change)="updateTask(task)"></mat-checkbox>

                    <div [class.done]="task.Done">

                        <span class="cursor-pointer" (click)="emitTask(task);" title="click to edit">
              &nbsp;{{task.TaskName}} +++ {{task.category}}</span>
                    </div>
                </section>
                <div>
                </div>
                <div>
                    <span class="cursor-pointer" (click)="openConfirmRemoveDialog(task)"> | REMOVE &nbsp;</span>
                    <mat-checkbox [(ngModel)]="task.Favorite" (change)="updateTask(task)" color="primary"></mat-checkbox>

                </div>

            </div>
        </div>
    </section>
    <mat-divider></mat-divider>
</section>

<!-- Templates -->
<ng-template #emptyList>
    <div>There's no tasks to be shown</div>
</ng-template>
<!-- Modals -->
<section #modalMessage class="modal-message">
    <div class="modal-message-box">message</div>
</section>